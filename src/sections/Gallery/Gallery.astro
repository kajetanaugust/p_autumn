---
import { Image } from 'astro:assets'

import { Splide, SplideSlide } from 'astro-splide'

import Box from '@components/Box/Box.astro'
import Text from '@components/Text/Text.astro'

import { carouselOptions, carouselPhotos } from './consts'

import {
  desktopCarousel,
  galleryImageStyles,
  mobileCarousel,
} from './styles.css'
---

<Box
  direction="column"
  width="100%"
  px={[20, 80]}
  py={[64, 112]}
  gap={[48, 80]}
  id="galeria"
  align="center"
  bgColor="neutral_lightest"
>
  <Box direction="column" gap={[20, 24]} justify="center" align="center">
    <Text variant="tagline">Galeria</Text>
    <Text variant="heading-2">Galeria Zdjęć</Text>
    <Text variant="text-regular" textAlign="center"
      >Zobacz nasze przestrzenie i radosne chwile mieszkańców.</Text
    >
  </Box>
  <Box maxHeight={700} maxWidth={1280} class={desktopCarousel}>
    <Splide options={{ ...carouselOptions, arrows: true, padding: '24px' }}>
      {
        carouselPhotos.map(photo => (
          <SplideSlide>
            <Image
              src={photo.src}
              alt={photo.alt}
              loading="lazy"
              layout="full-width"
              quality={90}
              width={1920}
              height={850}
              class={galleryImageStyles}
            />
          </SplideSlide>
        ))
      }
    </Splide>
  </Box>
  <Box class={mobileCarousel}>
    <Splide options={{ ...carouselOptions, arrows: false }}>
      {
        carouselPhotos.map(photo => (
          <SplideSlide>
            <Image
              src={photo.src}
              alt={photo.alt}
              loading="lazy"
              layout="full-width"
              quality={90}
              width={1920}
              height={850}
              class={galleryImageStyles}
            />
          </SplideSlide>
        ))
      }
    </Splide>
  </Box>
</Box>
